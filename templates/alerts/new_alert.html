{% extends "index.html" %}

{% block title %} User's Alerts {% endblock %}


{% block body %}

<div class="container">

    <div class="page-header">
        <h1>
            <small>Create new alert</small>
        </h1>


        <div id='alert-container' class="col-lg-12 mx-auto">

            {% if msg %}
            <div class="alert alert-success">
                {{ msg }}
            </div>
            {% endif %}

            {% from '__formhelpers.html' import render_field %}


            <form action="{{ url_for('alert_app.create_alert', item_id=item_id) }}" method="POST">

                <!-- Current alert details-->
                <table class="table table-hover table table-dark">
                    <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Store name </th>
                        <th scope="col">Item name</th>
                        <th scope="col">Item URL</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <th scope="row">1</th>
                        <td>{{ item.store.store_name.title() | truncate(20) }}</td>
                        <td>{{ item.item_name.title()  | truncate(20) }}</td>
                        <td><a href="{{ item.url }}" target="_blank">{{ item.url  | truncate(70) }}</a></td>

                    </tr>
                    </tbody>
                </table>

                {{ form.hidden_tag() }}

                {{ render_field(form.alert_limit, class='form-group') }}

                <button type="submit" class="btn btn-primary">Create new alert</button>
                 <button class="btn btn-warning" onclick="goBack()">Go Back</button>

                <script>
                function goBack() {
                    window.history.back();
                }
                </script>




            </form>
        </div>

    </div>
</div>
<br>

{% endblock %}